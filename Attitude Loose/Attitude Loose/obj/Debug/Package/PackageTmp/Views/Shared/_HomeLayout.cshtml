@model dynamic
<!DOCTYPE html>
<html>
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Attitude Loose</title>

    @Styles.Render("~/Content/CSS")
    @Scripts.Render("~/Scripts/HomeLayout")

</head>
<body>
    <nav class="navbar navbar-toggleable-md navbar-inverse bg-inverse">
        @Html.Partial("_Header")
    </nav>
    @if (TempData["AlertMessage"].ToString() == "Success")
    {
        <div class="alertmessage-success"></div>
    }
    @if (TempData["AlertMessage"].ToString() == "Fail")
    {
        <div class="alertmessage-fail"></div>
    }
    @if (TempData["AlertMessage"].ToString() == "Cancel")
    {
        <div class="alertmessage-cancel"></div>
    }

    <div class="container-fluid margin-top">
        <div class="row-fluid" style="margin-top: 10px;">
            <div class="prettyprint linenums" id="content">
                @RenderBody()
            </div>
        </div>
    </div>
    <div class="modal fade" id="topicModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="myModalLabel">New Topic</h5>
                    <button type="button" class="close" data-dismiss="modal">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body" id="createModal">
                </div>
                @*<div class="modal-footer">
                        <button type="button" class="btn btn-primary" aria-hidden="true">Add</button>
                        <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>
                    </div>*@
            </div>
        </div>
    </div>
</body>
</html>

<script type="text/javascript">
    function CreateTopic() {
        var url = "/Topic/Create";
        $.get(url, function (result) {
            $("#createModal").html(result);
        });
    }

    function GetMessage() {
        return function () {
            var successmessage = 'Success! A new topic is created.'
            var htmlAlert = '<div class="alert alert-success"><h5>' + successmessage + '</h5></div>';
            $('.alertmessage-success').prepend(htmlAlert);
            $(".alertmessage-success .alert").first().hide().fadeIn(200).delay(3000).fadeOut(1000, function () { $(this).remove(); });

            var failmessage = 'Fail!'
            var htmlAlert = '<div class="alert alert-warning"><h5>' + failmessage + '</h5></div>';
            $('.alertmessage-fail').prepend(htmlAlert);
            $(".alertmessage-fail .alert").first().hide().fadeIn(200).delay(3000).fadeOut(1000, function () { $(this).remove(); });

            var cancelmessage = 'Cancelled!'
            var htmlAlert = '<div class="alert alert-info"><h5>' + cancelmessage + '</h5></div>';
            $('.alertmessage-cancel').prepend(htmlAlert);
            $(".alertmessage-cancel .alert").first().hide().fadeIn(200).delay(3000).fadeOut(1000, function () { $(this).remove(); });

            var wrongmessage = 'Wrong'
            var htmlAlert = '<div class="alert alert-danger"><h5>' + wrongmessage + '</h5></div>';
            $('.alertmessage-wrong').prepend(htmlAlert);
            $(".alertmessage-wrong .alert").first().hide().fadeIn(200).delay(3000).fadeOut(1000, function () { $(this).remove(); });

        }
    }

    $(document).ready(GetMessage());
    //$(document).on('click', '.btn-alert', function (event) {
    //function ShowAlert(event) {
    //    //if ($(event.target).attr('id') == 'alert1') {
    //    //    //	alert('alert1 clicked');


    //    //    //
    //    //}
    //    var type = 'success';
    //    var message = 'action was a success!'
    //    var alertType = 'alert-' + type

    //    // alert('alert type is: '+ alertType);

    //    var htmlAlert = '<div class="alert ' + alertType + '"><h3>' + type + ' alert</h3><BR><p>' + message + '</p></div>';

    //    // alert(htmlAlert);

    //    $(".alert-message").prepend(htmlAlert);

    //    $(".alert-message .alert").first().hide().fadeIn(200).delay(3000).fadeOut(1000, function () { $(this).remove(); });

    //});

</script>